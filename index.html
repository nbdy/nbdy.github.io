<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>portfolio</title>
    <link rel="stylesheet"
          href="css/bootstrap.css">
</head>
<body>
<div class="container">
    <nav class="navbar navbar-light">
        <a id="nav_name" class="navbar-brand" href="#">pascal e.</a>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="#">home</a>
                </li>
            </ul>
        </div>
    </nav>

    <h3>github overview</h3>

    <h5>since: <a id="since"></a></h5>
    <h5>years: <a id="years"></a></h5>
    <h5>repos: <a href="https://github.com/smthnspcl?tab=repositories" id="repoCount"></a></h5>

    <div id="repoCharts">
        <canvas id="reposOverTimeChart"></canvas>
    </div>
</div>
<div id="frm"></div>
</body>
<script src="js/jquery.js"></script>
<script src="js/popper.js"></script>
<script src="js/bootstrap.js"></script>
<script src="js/chart.js"></script>
<script src="js/github.js"></script>
<script>
    Date.prototype.getYearDifference = function (pastDate) {
        let d =(this.getTime() - pastDate.getTime()) / 1000;
        d /= (60 * 60 * 24);
        return Math.abs(Math.round(d / 365.25));
    };

    function updateInformation(github) {
        $('#nav_name').href = github.information.url;
        $('#since').text(github.information.created_at);
        $('#years').text(new Date().getYearDifference(new Date(github.information.created_at)));
        $('#repoCount').text(github.information.public_repos);
    }

    function updateRepoStatistics(github){
    }

    let github = new Github("smthnspcl", updateInformation, updateRepoStatistics);

    github.getInformation();
    github.getRepositories();
/*
    let reposOverTimerChartData = {
        labels: [],
        datsets: [{
            label: "",
            backgroundColor: 'rgb(69, 69, 69)',
            borderColor: 'rgb(0, 0, 0)',
            data: []
        }]
    };
    new Chart(document.getElementById("reposOverTimeChart").getContext('2d'), {
            type: 'line',
            data: reposOverTimerChartData,
        }
    );


    window.setInterval(function () {
        updateRepoCountData(github);
        updateReposOverTimeChartData(github);
    }, 42000);
     */
</script>
</html>